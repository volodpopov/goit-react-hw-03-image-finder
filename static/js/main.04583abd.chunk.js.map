{"version":3,"sources":["components/ImageFinder/ImageFinder.module.css","components/ImageFinder/Searchbar.js","components/ImageFinder/ImageGalleryItem.js","components/ImageFinder/Modal.js","components/ImageFinder/Button.js","components/services/pixabay-api.js","components/ImageFinder/ImageGallery.js","components/App.js","index.js"],"names":["module","exports","Searchbar","state","query","handleQueryChange","e","setState","currentTarget","value","toLowerCase","handelSubmit","preventDefault","trim","props","onSubmit","toast","error","className","s","this","SearchForm","type","SearchForm_button","SearchForm_button__label","SearchForm_input","name","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","hits","map","id","webformatURL","largeImageURL","tags","onClick","onClickGalleryItem","src","alt","ImageGalleryItem_image","modalRoot","document","querySelector","Modal","handleKeyDown","code","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","Button","data-action","loadMore","currentPage","fetch","then","res","json","ImageGallery","loading","showModal","imageForModal","title","getDataForGallery","prevState","pixabayApi","catch","finally","toggleModal","scrollPageToEnd","setTimeout","scrollBy","top","documentElement","scrollHeight","behavior","prevProps","color","height","width","length","App","handleSearchSubmit","changeShowModal","position","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.04583abd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"ImageFinder_App__2cYL6\",\"Searchbar\":\"ImageFinder_Searchbar__3_08R\",\"SearchForm\":\"ImageFinder_SearchForm__2SblK\",\"SearchForm_button\":\"ImageFinder_SearchForm_button__d0umI\",\"SearchForm_button__label\":\"ImageFinder_SearchForm_button__label__3I2fO\",\"SearchForm_input\":\"ImageFinder_SearchForm_input__1ld59\",\"ImageGallery\":\"ImageFinder_ImageGallery__t4xQo\",\"ImageGalleryItem\":\"ImageFinder_ImageGalleryItem__3701Q\",\"ImageGalleryItem_image\":\"ImageFinder_ImageGalleryItem_image__1D15E\",\"Overlay\":\"ImageFinder_Overlay__3Lt9p\",\"Modal\":\"ImageFinder_Modal__2kCdn\",\"Button\":\"ImageFinder_Button__1UFzX\"};","import React, { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport s from './ImageFinder.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleQueryChange = e => {\n    this.setState({ query: e.currentTarget.value.toLowerCase() });\n  };\n  handelSubmit = e => {\n    e.preventDefault();\n    if (this.state.query.trim() === '') {\n      toast.error('Enter any word.');\n      return;\n    }\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form onSubmit={this.handelSubmit} className={s.SearchForm}>\n          <button type=\"submit\" className={s.SearchForm_button}>\n            <span className={s.SearchForm_button__label}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchForm_input}\n            type=\"text\"\n            name=\"query\"\n            value={this.state.query}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleQueryChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React, { Component } from 'react';\nimport s from './ImageFinder.module.css';\n\nclass ImageGalleryItem extends Component {\n  render() {\n    return this.props.hits.map(({ id, webformatURL, largeImageURL, tags }) => (\n      <li\n        key={id}\n        className={s.ImageGalleryItem}\n        onClick={() => this.props.onClickGalleryItem(largeImageURL, tags)}\n      >\n        <img\n          src={webformatURL}\n          alt={tags}\n          className={s.ImageGalleryItem_image}\n        />\n      </li>\n    ));\n  }\n}\n\nexport default ImageGalleryItem;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './ImageFinder.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClick();\n    }\n  };\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClick();\n    }\n  };\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport s from './ImageFinder.module.css';\n\nexport default class Button extends Component {\n  render() {\n    return (\n      <button\n        type=\"button\"\n        className={s.Button}\n        data-action=\"load-more\"\n        onClick={this.props.loadMore}\n      >\n        Load more\n      </button>\n    );\n  }\n}\n","const fetchImage = (query, currentPage) => {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${query}&page=${currentPage}&key=18796683-6210221644807583f1ab11642&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(res => res.json());\r\n};\r\n\r\nexport default { fetchImage };\r\n","import React, { Component } from 'react';\nimport s from './ImageFinder.module.css';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport Loader from 'react-loader-spinner';\nimport Modal from './Modal';\nimport Button from './Button';\nimport pixabayApi from '../services/pixabay-api';\n\nclass ImageGallery extends Component {\n  state = {\n    hits: [],\n    loading: false,\n    currentPage: 1,\n    showModal: false,\n    imageForModal: '',\n    title: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.query !== this.props.query) {\n      this.getDataForGallery();\n    }\n  }\n\n  getDataForGallery = () => {\n    this.setState(prevState => ({ loading: true, hits: prevState.hits }));\n    pixabayApi\n      .fetchImage(this.props.query, this.state.currentPage)\n      .then(({ hits }) =>\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...hits],\n          currentPage: prevState.currentPage + 1,\n        })),\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  loadMore = () => {\n    this.getDataForGallery();\n    this.scrollPageToEnd();\n  };\n\n  scrollPageToEnd = () => {\n    setTimeout(() => {\n      window.scrollBy({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }, 1000);\n  };\n\n  onClickGalleryItem = (src, alt) => {\n    this.toggleModal();\n    this.setState({ imageForModal: src, title: alt });\n  };\n\n  render() {\n    const { loading, hits, imageForModal, title, showModal } = this.state;\n    return (\n      <div>\n        <ul className={s.ImageGallery}>\n          {hits && (\n            <ImageGalleryItem\n              hits={hits}\n              onClickGalleryItem={this.onClickGalleryItem}\n            />\n          )}\n        </ul>\n        {loading && (\n          <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n        )}\n        {hits.length !== 0 && <Button loadMore={this.loadMore} />}\n        {showModal && (\n          <Modal onClick={this.onClickGalleryItem}>\n            <img src={imageForModal} alt={title} />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Searchbar from './ImageFinder/Searchbar';\nimport ImageGallery from './ImageFinder/ImageGallery';\n\n// import Modal from './ImageFinder/Modal';\n\nimport s from './ImageFinder/ImageFinder.module.css';\n\nclass App extends Component {\n  state = {\n    query: '',\n  };\n\n  handleSearchSubmit = query => {\n    this.setState({ query });\n  };\n  render() {\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.handleSearchSubmit} />\n        <ImageGallery\n          query={this.state.query}\n          changeShowModal={this.toggleModal}\n        />\n\n        <ToastContainer position=\"top-center\" />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}